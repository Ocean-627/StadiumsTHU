# 需求规格说明文档

项目名：清动家园

版    本：1.0

编    订：陈柏旭 杨宇泓 胡浩宇 徐鑫浩

日    期：2020-10-27

# 1. 引言

## 1.1 编写目的

本文档的目的是详细地介绍清动家园所包含的需求，以便客户能够确认产品的确切需求以及开发人员能够根据需求设计编码，以下叙述将结合文字描述，流程图，界面原型以及类图等来描述运动场馆预订系统的功能，性能，用户界面，运行环境，外部接口以及针对用户操作给出的各种响应。本文档的预期读者有客户（包括在校学生、教师、运动场馆管理员及工会系统管理员），项目经理，开发人员以及跟该项目相关的其他竞争人员和无关人员。

## 1.2 背景

本文档介绍的产品是清动家园，该软件面向所有清华校内学生及教职工，为运动场馆预订提供了用户友好的交互平台。该软件借鉴参考了北京大学智能场馆系统及清华大学研读间/研讨间预约系统，由清华大学软件学院软件工程课程C03小组开发。本产品希望能够为学生及教师提供方便快捷的场馆预约平台，方便场馆内工作人员的日常管理，并能够为校内高级管理者提供较高层次的系统管理服务。

## 1.3 定义

1) 用户访谈：事先对客户进行访谈，见面分析产品需求的过程称用户访谈。

2) 开发人员：开发本文档所介绍的产品的程序员。

3) 总期望值：全校师生广泛使用。

## 1.4 参考资料

计算机软件需求规格说明书（GB/T 9385-2008）

https://www.cnblogs.com/liquan/p/6071804.html

## 1.5 内容组织

待定

# 2. 任务概述

## 2.1 目标

清动家园是一款应清华校内师生的需求而生的运动场馆预订管理系统，与校内现有的info场馆预约系统相比，本产品旨在优化用户体验、完善进阶功能以及提供更为美观的产品界面，并解决现有的info中的场馆预订系统中存在的不支持批量预约、用户无法通过该系统找到场馆所在位置**、**预约时用户无法得知预约场地在场馆内的具体位置**、**网页端操作在众多应用场景下不够便捷以及界面设计不够美观等问题，应校内广大师生的需求，本产品将提供便捷的二维码付款服务。此外，为适应不同的需求场景，本产品将实现移动端和网页端的同时兼容。

如图所示是用户主要功能用例图。

![avatar](./photo/2.1 目标.png)

## 2.2 用户特点

| 用户                                          | 描述                                                         |
| --------------------------------------------- | ------------------------------------------------------------ |
| <div style="width: 30pt">**普通用户**</div>   | 对应校内师生，场馆预约系统的主要使用者。                     |
| <div style="width: 30pt">**场馆管理员**</div> | 对应场馆内工作人员，能够修改场馆相关信息、设定场馆可预约状态并执行对现有预约的相关处理等操作，具有一定的管理权限。 |
| <div style="width: 30pt">**系统管理员**</div> | 对应校内高级管理员，具有本产品的最高管理权限，可以管理系统中的其他用户。 |

## 2.3 假定和约束

| 约束       | 描述                                                         |
| ---------- | ------------------------------------------------------------ |
| 高级语言   | 该软件客户端将采用微信小程序及网页端、采用Python结合Javascript语言编程 |
| 可靠性需求 | 由于浏览器版本不同，可能会导致网页端显示效果不同             |

# 3.需求规定

## 3.1 对功能的规定

### 3.1.1 主要功能

| 功能         | 概述                             | 用户                |
| ------------ | -------------------------------- | ------------------- |
| 预定场地     | 预定某场馆，并进行线上缴费等操作 | 普通用户            |
| 批量预定     | 成批地，相对高优先级地预定场地   | 高级用户&场馆管理员 |
| 维护场馆信息 | 修改场馆信息、修改预约状态       | 场馆管理员          |
| 维护人员信息 | 管理系统中的其他用户             | 系统管理员          |

### 3.1.2 业务流程（概要）

由于高级用户**覆盖**了低级用户的所有功能，在高级用户中相应功能略去。

#### 3.1.2.1 普通用户

1）验证身份

　　用户可以通过绑定清华邮箱或者输入学生卡号的方式绑定身份（用手机号）并登录，每个邮箱&账号只能绑定一个手机号。

2）查看场馆信息

　　登录成功后，用户可以看到所有可以预定的场馆信息，如可预约时段、场馆位置、预定价格、联系方式等信息。 

3）预订场馆

　　用户可以对某一个场馆提交预定申请，在第一阶段(填报志愿阶段)用户需要等待抽签结果，并在收到预订成功后缴费，在任选阶段用户可以即时预定成功。

4）使用场馆

　　在到达场馆时可以核定身份，如通过微信扫描二维码、刷校园卡等方式。

5）评价使用

​		可以查看用户的预定记录，对场馆情况进行评价，提出建议等。

#### 3.1.2.2 高级用户&场馆管理员

1）验证身份

​		在成为普通用户的基础上提交相关信息、如来自校团委的认证验证成为高级用户。

2）查看场馆信息

​		在获取场馆信息的基础上，可以额外获取到来自用户的评价。

3)   场馆管理

​		可以修改场馆信息，包括场馆介绍，开放时间，预约时间段。

4)   预约管理

​		可以批量的预约场地，同时拥有更高的权限，可以临时修改某些用户的预约结果。

5)   用户管理

​		可以查看用户信息，拉黑用户等。

#### 3.1.2.3 系统管理员

1）查看统计信息

​		可以查看一段时间的预定情况，场地使用情况，用户评价等等。

2)   场馆&用户管理

​		额外拥有删除场馆，删除用户的权限。

### 3.1.3 用户界面

以下分别展示主页面、用户个人界面、场馆详细信息、预约界面，对于高级用户的相应界面类似，只是增加了一些工具栏。

<img src="./photo/原型设计/主页面.png" alt="image-20201026195753291"  />

​										<img src="./photo/原型设计/用户页面.png" alt="image-20201026195753291"  />

<img src="./photo/原型设计/详细信息.png" alt="image-20201026195753291"  />

<img src="./photo/原型设计/预约页面.png" alt="image-20201026195753291"  />



### 3.1.4 用户场景

#### 3.1.4.1 典型用户

热爱体育运动的清华大学学生

| 姓名       | 陈柏旭                                   |
| ---------- | ---------------------------------------- |
| 性别、年龄 | 男、20岁                                 |
| 职业       | 软件学院本科生                           |
| 兴趣爱好   | 羽毛球                                   |
| 动机、目的 | 锻炼身体，并且有每学期的体育运动时长需求 |
| 典型场景   | 约几名同学一起定场打球                   |

校团委负责老师

| 工作     | 管理、维护预约系统 |
| -------- | ------------------ |
| 维护时间 | 工作日上班时间     |

## 3.2 对性能的规定

### 3.2.1 精度

该软件数据的输入、处理、输出所要数据达到的精度说明如下：本软件涉及到需要手工输入数据的字段及说明如下：

| 字段         | 精度                             | 备注 |
| ------------ | -------------------------------- | ---- |
| 账号         | 合法的邮箱格式（如：lss@qq.com） |      |
| 密码         | 6个字符                          |      |
| 性别         | 男或女二选一                     |      |
| 用户是否存在 | Int类型                          | 0或1 |

 

### 3.2.2 时间特性要求



### 3.2.3 灵活性

暂定产品为主要在移动端服务的微信小程序，操作便捷。

## 3.3 输入输出要求

## 3.4 数据管理能力要求

待定

## 3.5 故障处理要求

## 3.6 其他专门要求

# 4.运行环境规定

## 4.1 设备

**Web端：**可在PC或移动设备上的主流浏览器（例如Safari、Edge、Chrome、Firefox等）上使用。

**小程序端：**可在移动设备上的微信客户端-小程序中使用，微信版本号应高于7.0.0。

## 4.2 开发技术栈

本项目的开发工作在**Windows 10 professional**下完成。使用到的技术栈如下方列出。

- Web前端：HTML、CSS、JavaScript、Vue、Bootstrap
- Web后端：NodeJS、Django
- 数据库：MySQL
- 服务部署：Docker、nginx
- 移动前端：微信开发者工具

## 4.3 接口

待定

## 4.4 控制

待定

# 5.验收标准

| 测试功能 | 输入/操作                                   | 检验点                               | 预期结果               | 验收 |
| ------------------  | :------------------------------------------ | ------------------------------------ | -------------------------- | ---- |
| 登录功能                        | 在用户名处输入学号/工号，在密码栏输入用密码 | 用户名和密码检查，密码保护           | 通过验证系统进行身份验证，当用户名密码与数据库中的内容一致时，登录成功，否则失败且显示提示信息。密码应当被隐藏。 |      |
| 主页面显示 | 登陆后可见 | 显示内容正确性，完整性 | 每个场馆的图片与简略信息能够正确显示，未能成功加载的图片会被一个默认图片替代。整个界面布局与字体大小正常。 |      |
| 主页面搜索 | 在搜索框输入场馆的名称或名称的一部分 | 搜索框显示，搜索结果显示 | 搜索框应当显示在正确的位置，点击搜索框后能够正常地跳出输入法面板。输入信息后应当正确显示搜索到的场馆。 |      |
| 主页面排序       | 点击排序按钮                                   | 显示排序结果，正确排序         | 在点击排序按钮后，场馆信息会根据排序的键值按顺序排列，并正确地显示在屏幕上 |      |
| 场馆详细信息显示     | 点击某个场馆的名字                 | 显示详细信息             | 成功显示场馆详细信息，场馆的图片能够正常滚动播放，如果加载失败会显示默认图片。场馆的介绍，须知能够通过下拉菜单打开和收起。 |      |
| 场馆位置显示 | 在场馆详细信息界面中点击位置按钮                  | 地图加载，位置显示 | 正确显示地图以及场馆位置，场馆位置通过醒目的记号标注。地图可以放大缩小和旋转。 |      |
| 场馆预定信息 | 在场馆详细信息下方点击预定按钮 | 场馆内场地信息，已预约时间段，可预约时间段 | 在场馆预约界面能够看到场馆内的场地布局，在点击某个场地后能显示该场地在未来几天内的预约状况，已预约时间段和未预约时间段分别用不同的颜色标注。 | |
| 场馆预定 | 选择一个可以预定的场地和时间，然后点击预定按钮 | 场地是否可预约检测，预约时间检测，价格计算 | 选择的预约时间应当是可预约时间段，时间段可以单选或多选，但总时长不得超过上限。价格应当根据市场进行计算并显示在界面上。 | |
| 预定付费 | 在选择好预约时间后，点击付费。 | 付费时间限制，界面跳转 | 确认预约后应当在限定时间内完成付费，可以选择多种在线付费方式并正确跳转到对应的页面。 | |
| 用户信息 | 在页面下方点击用户按钮 | 显示用户菜单 | 能正确显示用户菜单中的各个选项 | |
| 预约记录 | 在用户菜单中点击我的预约 | 显示用户预约记录 | 按照时间倒序显示用户的预约记录，尚未开始的，正在进行的和过去的预约应当加以区分。尚未开始的预约应存在取消按钮，过去的预约应存在删除按钮。 | |
| 预约提醒 | 自动 | 提醒时间，提醒内容 | 在用户的预约的时间即将开始时或者即将结束时，软件应当发送提醒 | |
|  |  |  |  | |
| 高级用户申请 | 在web页面点击高级用户申请按钮，填写表单后提交申请 | 表单内容检查，图片上传，申请提交 | 提交申请的用户可以在申请表填写名称，联系方式，场馆地址等信息以及添加图片。对部分必须填写的内容进行格式检查。提交申请后系统管理员可以及时看见申请。 | |
| 场馆使用状态 | 高级用户登录后可见 | 显示内容正确性，完整性 | 能够显示管理的场馆中每个场地的简略信息，包括是否正在使用，使用者，使用开始时间，结束时间，以及该场地在当天的历史使用记录。 | |
| 场地历史记录 | 在场馆使用状态表中点击某一特定场地后进入 | 显示场地的详细信息 | 能够显示该场地在过去很长一段时间内的使用历史记录以及未来几天内的预约记录，包括使用者/预约者，使用/预约时间段，是否履行等信息 | |
| 场地信息修改 | 主页面中点击修改按钮进入界面 | 修改某个/多个场地状态 | 能够设置单个/多个场地/整个场馆的使用状态(正在使用/空闲/损坏)，也可对未来的某段时间场地是否可被预约进行设置(可设置的时间段应大于预约时间段)，如果状态设置与预约冲突，应当强制取消预约并通知&退款。 | |
| 场馆信息修改 | 在修改界面中点击场馆信息修改 | 修改功能，内容检测 | 能够重新设置场馆的名称，位置，守则，开放时间，运动项目以及场地编号等信息。并且能够对必填字段进行合法性检测 | |
| 拉黑用户 | 在主页面或者场地信息页面点击用户名称进行操作 | 拉黑功能，理由填写，通知 | 拉黑用户时可以填写相应的理由，拉黑后该用户应及时收到拉黑的消息，并且在拉黑期间不可以再预定对应的场馆 | |
| 操作日志 | 在主页面点击日志按钮进入相应页面 | 日志显示，操作对象连接 | 显示操作的时间，类型，对象。其中对象部分应当链接到对应的操作页面(例如拉黑用户操作应链接到操作对应的页面，可以在该页面取消拉黑操作) | |
|  |  |  |  | |
| 系统管理员页面 | 通过系统管理员账号登入web页面后可见 | 场馆，用户，预约信息 | 场馆，用户，预约信息分为三个列表显示，每个表项可以点击查看详细信息。详细信息应当包括数据库中该对象所有属性信息。列表应支持对多个关键字的模糊搜索，同时支持对多个多个关键字的排序操作。 | |
| 对象的增删改 | 在列表中点击删除/添加，在详细信息中点击修改 | - | 使用复选框支持对多个对象的一次性删除，添加对象时需要填写相应的信息，对每个字段的合法性(与数据库要求一致)进行检查。修改对象时对修改字段也应有同样操作 | |
| 操作日志 | - | - | 同场馆管理员 | |

 